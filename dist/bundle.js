!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=17)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=f(n(40)),r=f(n(41)),o=f(n(8)),u=f(n(14)),s=f(n(15)),l=f(n(16));function f(t){return t&&t.__esModule?t:{default:t}}var c=new i.Gear({load:function(){return{tiles:i.Loader.loadTextureFromUrl(window.location.origin+"/assets/tileset.png")}},init:function(){var t=this;this.paused=!1,this.pausedTime=0,this.acumulateTime=0,this.lives=3,this.tileset=this.tiles.split(1,8)[0],h.GLOBALS.tileset=this.tileset,h.GLOBALS.maze=a.default,this.sb=new i.SpriteBatch(h.context),this.gearStack.init(),this.pauseGame(5),this.$subscribe("pacmanDead",function(){return t.onPacmanDead()})},update:function(){if(this.paused)return this.acumulateTime+=h.deltaTime,void(this.acumulateTime>=this.pausedTime&&(this.paused=!1,this.acumulateTime=0));this.gearStack.update()},render:function(){h.context.fillRect(0,0,224,288),this.sb.begin(),a.default.render(this.sb),this.gearStack.render(this.sb);for(var t=0;t<this.lives;t++)this.sb.drawTexture(this.tileset[1],16+16*t,276);this.sb.drawText("HIGH SCORE","white","8px Verdana","center",108,8),this.sb.drawText(h.GLOBALS.POINTS,"white","8px Verdana","center",108,16),this.sb.end()},methods:{pauseGame:function(t){this.paused=!0,this.pausedTime=t,this.acumulateTime=0},onPacmanDead:function(){r.default.softReset(),o.default.softReset(),u.default.softReset(),s.default.softReset(),l.default.softReset(),this.lives--,this.pauseGame(5)}},gears:{PacmanEntity:r.default,RedPhantom:o.default,PinkPhantom:u.default,BluePhantom:s.default,OrangePhantom:l.default}}),h=new i.Game({container_id:"pacman",width:224,height:288},c);h.GLOBALS={UP:0,RIGHT:1,DOWN:2,LEFT:3,PacmanEntity:r.default,POINTS:0},e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(18);Object.defineProperty(e,"Game",{enumerable:!0,get:function(){return i.Game}}),Object.defineProperty(e,"Gear",{enumerable:!0,get:function(){return i.Gear}});var a=n(29);Object.defineProperty(e,"TextureRegion",{enumerable:!0,get:function(){return a.TextureRegion}}),Object.defineProperty(e,"SpriteBatch",{enumerable:!0,get:function(){return a.SpriteBatch}}),Object.defineProperty(e,"Animation",{enumerable:!0,get:function(){return a.Animation}}),Object.defineProperty(e,"Camera",{enumerable:!0,get:function(){return a.Camera}});var r=n(12);Object.defineProperty(e,"M3",{enumerable:!0,get:function(){return r.M3}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return r.Polygon}}),Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return r.Rectangle}}),Object.defineProperty(e,"Vector2D",{enumerable:!0,get:function(){return r.Vector2D}});var o=n(5);Object.defineProperty(e,"Loader",{enumerable:!0,get:function(){return o.Loader}});var u=n(35);Object.defineProperty(e,"Keyboard",{enumerable:!0,get:function(){return u.KeyboardInputManager}}),Object.defineProperty(e,"Mouse",{enumerable:!0,get:function(){return u.MouseInputManager}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(22);Object.defineProperty(e,"EventEmiter",{enumerable:!0,get:function(){return(t=i,t&&t.__esModule?t:{default:t}).default;var t}});var a=new Map;e.AssetCache=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={identity:function(){return[1,0,0,0,1,0,0,0,1]},multiply:function(t,e){var n=t[0],i=t[1],a=t[2],r=t[3],o=t[4],u=t[5],s=t[6],l=t[7],f=t[8],c=e[0],h=e[1],d=e[2],y=e[3],v=e[4],m=e[5],p=e[6],L=e[7],b=e[8];return[c*n+h*r+d*s,c*i+h*o+d*l,c*a+h*u+d*f,y*n+v*r+m*s,y*i+v*o+m*l,y*a+v*u+m*f,p*n+L*r+b*s,p*i+L*o+b*l,p*a+L*u+b*f]},translate:function(t,e,n){var i=[1,0,0,0,1,0,e,n,1];return this.multiply(t,i)},rotate:function(t,e){var n=[Math.cos(e),Math.sin(e),0,-Math.sin(e),Math.cos(e),0,0,0,1];return this.multiply(t,n)},scale:function(t,e,n){var i=[e,0,0,0,n,0,0,0,1];return this.multiply(t,i)},toCanvas2dMatrix:function(t){return[t[0],t[1],t[3],t[4],t[6],t[7]]}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=o(n(0)),r=o(n(7));function o(t){return t&&t.__esModule?t:{default:t}}var u=function t(e,n,o,u,s){return new i.Gear({init:function(){this.paused=!1,this.pausedTime=0,this.mode="Patrol",this.prevMode="Patrol",this.sprite=e,this.timeRefernce=0,this.acumulateTime=0,this.spawnPoint=o;var t=this.spawnPoint();this.inJail=!0,this.onInJail=s,this.x=t.x,this.y=t.y,this.xRounded=t.x,this.yRounded=t.y,this.patrolPoint=n,this.v=3.5,this.direction=a.default.GLOBALS.LEFT,this.nextDirection=a.default.GLOBALS.LEFT,this.nextDirectionCalculated=!1,this.onHuntModeCb=u},update:function(){var t=this;if(this.paused)return this.acumulateTime+=a.default.deltaTime,void(this.acumulateTime>=this.pausedTime&&(this.paused=!1,this.acumulateTime=0));if(this.inJail){if(this.onInJail(this),this.inJail)return;this.$subscribe("enterPanic",function(){t.prevMode=t.mode,t.mode="Panic",t.acumulateTime=0})}this.x,this.y;var e=this.v*a.default.deltaTime;e>.1&&(e=.1),this.direction==a.default.GLOBALS.UP?this.y-=e:this.direction==a.default.GLOBALS.RIGHT?this.x+=e:this.direction==a.default.GLOBALS.DOWN?this.y+=e:this.direction==a.default.GLOBALS.LEFT&&(this.x-=e),this.fixPosition(),this.xRounded=Math.round(10*this.x)/10,this.yRounded=Math.round(10*this.y)/10,this.changeDirection(),this.setMode()},render:function(t){t.drawTexture(a.default.GLOBALS.tileset[this.sprite],8*this.xRounded,8*this.yRounded)},methods:{calculateDirection:function(t,e){var n=e.i,r=e.j,o=a.default.GLOBALS.maze.intersections.get(JSON.stringify([n,r])),u=o.indexOf((this.direction+2)%4),s=-1!=u?o.filter(function(t){return t!=o[u]}):o;if(1==s.lenght)this.nextDirection=s[0],this.nextDirectionCalculated=!0;else{for(var l=Number.MAX_VALUE,f=0,c=0;c<s.length;c++){var h=s[c];if(h==a.default.GLOBALS.UP){var d=new i.Vector2D(Math.floor(this.x),Math.floor(this.y)-1,t.x,t.y).magnitude();d<l&&(l=d,f=h)}else if(h==a.default.GLOBALS.RIGHT){var y=new i.Vector2D(Math.floor(this.x)+1,Math.floor(this.y),t.x,t.y).magnitude();y<l&&(l=y,f=h)}else if(h==a.default.GLOBALS.DOWN){var v=new i.Vector2D(Math.floor(this.x),Math.floor(this.y)+1,t.x,t.y).magnitude();v<l&&(l=v,f=h)}else if(h==a.default.GLOBALS.LEFT){var m=new i.Vector2D(Math.floor(this.x)-1,Math.floor(this.y),t.x,t.y).magnitude();m<l&&(l=m,f=h)}}this.nextDirection=f,this.nextDirectionCalculated=!0}},changeDirection:function(){var t=this.getTile(),e=t.i,n=t.j;a.default.GLOBALS.maze.intersections.has(JSON.stringify([e,n]))?(this.nextDirectionCalculated||this["on"+this.mode+"Mode"]({i:e,j:n}),this.nextDirection==a.default.GLOBALS.UP&&a.default.GLOBALS.maze.layout[e-1][n]>0&&this.xRounded%1<=.1?(this.x=Math.floor(this.x),this.direction=this.nextDirection):this.nextDirection==a.default.GLOBALS.RIGHT&&a.default.GLOBALS.maze.layout[e][n+1]>0&&this.yRounded%1<=.1?(this.y=Math.floor(this.y),this.direction=this.nextDirection):this.nextDirection==a.default.GLOBALS.DOWN&&a.default.GLOBALS.maze.layout[e+1][n]>0&&this.xRounded%1<=.1?(this.x=Math.floor(this.x),this.direction=this.nextDirection):this.nextDirection==a.default.GLOBALS.LEFT&&a.default.GLOBALS.maze.layout[e][n-1]>0&&this.yRounded%1<=.1&&(this.y=Math.floor(this.y),this.direction=this.nextDirection)):this.nextDirectionCalculated=!1},fixPosition:function(){var t=this.getTile(),e=t.i,n=t.j;this.direction==a.default.GLOBALS.UP&&a.default.GLOBALS.maze.layout[e][n]==r.default.BLOCKS.WALL?this.y=Math.ceil(this.y):this.direction==a.default.GLOBALS.RIGHT&&a.default.GLOBALS.maze.layout[e][n+1]==r.default.BLOCKS.WALL?this.x=Math.floor(this.x):this.direction==a.default.GLOBALS.DOWN&&a.default.GLOBALS.maze.layout[e+1][n]==r.default.BLOCKS.WALL?this.y=Math.floor(this.y):this.direction==a.default.GLOBALS.LEFT&&a.default.GLOBALS.maze.layout[e][n]==r.default.BLOCKS.WALL&&(this.x=Math.ceil(this.x)),this.x<-1&&(this.x=28),this.x>28&&(this.x=-1)},getTile:function(){return{i:Math.floor(this.y-3),j:Math.floor(this.x)}},onPatrolMode:function(t){var e=t.i,n=t.j;this.calculateDirection(this.patrolPoint,{i:e,j:n})},onPanicMode:function(t){var e=t.i,n=t.j,i=a.default.GLOBALS.maze.intersections.get(JSON.stringify([e,n]));this.nextDirection=i[Math.floor(Math.random()*i.length)],this.nextDirectionCalculated=!0},onHuntMode:function(t){var e=t.i,n=t.j;this.onHuntModeCb(this,{i:e,j:n})},setMode:function(){"Panic"==this.mode&&(this.acumulateTime+=a.default.deltaTime,this.v=1.5,this.acumulateTime>=t.PANIC_TIME&&(this.acumulateTime=0,this.mode=this.prevMode,this.v=3.5)),"Hunt"==this.mode&&t.TIMES[this.timeRefernce]<0||(this.acumulateTime+=a.default.deltaTime,this.acumulateTime>=t.TIMES[this.timeRefernce]&&(this.acumulateTime=0,this.timeRefernce++,this.mode="Patrol"==this.mode?"Hunt":"Patrol"))},softReset:function(){var t=this.spawnPoint();this.x=t.x,this.y=t.y,this.xRounded=t.x,this.yRounded=t.y,this.v=3.5,this.direction=a.default.GLOBALS.LEFT,this.nextDirection=a.default.GLOBALS.LEFT,this.nextDirectionCalculated=!1,this.inJail=!0},onPacmanCollision:function(){"Panic"==this.mode?(this.acumulateTime=0,this.mode=this.prevMode,a.default.GLOBALS.POINTS+=100,this.softReset(),this.pausePhantom(t.AFTER_EAT_PAUSE)):this.$emit("pacmanDead")},pausePhantom:function(t){this.paused=!0,this.pausedTime=t,this.acumulateTime=0}}})};u.TIMES=[7,20,7,20,5,20,5,-1],u.PANIC_TIME=10,u.AFTER_EAT_PAUSE=3,e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;var i,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=s(n(20)),o=s(n(23)),u=n(25);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var l=new((i=u)&&i.__esModule?i:{default:i}).default(a({},r,o));e.Loader=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),o=(i=r)&&i.__esModule?i:{default:i};var u=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e-i,this.y=n-a}return a(t,[{key:"transform",value:function(t){this.x=this.x*t[0]+(this.y*t[3]+t[6]),this.y=this.x*t[1]+(this.y*t[4]+t[7])}},{key:"translate",value:function(t){this.x+=t.x,this.y+=t.y}},{key:"setPosition",value:function(t,e){this.x=t,this.y=e}},{key:"rotate",value:function(t){var e=o.default.identity();e=o.default.rotate(e,t*(Math.PI/180)),this.transform(e)}},{key:"sacale",value:function(t,e){var n=o.default.identity();n=o.default.scale(n,t,e),this.transform(n)}},{key:"normal",value:function(){return new t(-this.y,this.x)}},{key:"magnitude",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"projection",value:function(t){var e=t.magnitude();return this.x*(t.x/e)+this.y*(t.y/e)}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),u=(i=o)&&i.__esModule?i:{default:i};var s=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layout=e,this.intersections=new Map,this.balls_count=0,this.pacmanSpawn=i,this.jailDoor=r;for(var o=0;o<this.layout.length;o++)for(var u=0;u<this.layout[o].length;u++)this.layout[o][u]>=2&&this.balls_count++;this.balls_total=this.balls_count;for(var s=0;s<n.length;s++){var l=n[s][0],f=n[s][1];if("auto"==f){var c=a(l,2),h=c[0],d=c[1];f=[],this.layout[h-1][d]>0&&f.push(0),this.layout[h][d+1]>0&&f.push(1),this.layout[h+1][d]>0&&f.push(2),this.layout[h][d-1]>0&&f.push(3)}this.intersections.set(JSON.stringify(l),f)}}return r(t,[{key:"consumeBall",value:function(t,e){var n=this.layout[t][e];return this.layout[t][e]>=2&&(this.layout[t][e]=1,this.balls_count--,u.default.GLOBALS.POINTS+=50,3==n&&(u.default.GLOBALS.POINTS+=50)),n}},{key:"render",value:function(t){for(var e=0;e<this.layout.length;e++)for(var n=0;n<this.layout[e].length;n++)0==this.layout[e][n]?t.drawTexture(u.default.GLOBALS.tileset[0],8*n,24+8*e):2==this.layout[e][n]?t.drawTexture(u.default.GLOBALS.tileset[2],8*n,24+8*e):3==this.layout[e][n]&&t.drawTexture(u.default.GLOBALS.tileset[3],8*n,24+8*e)}}]),t}();s.BLOCKS={WALL:0,EMPTY:1,BALL:2,SUPER_BALL:3},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(4)),a=r(n(0));function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,i.default)(4,{x:25,y:0},function(){return{x:a.default.GLOBALS.maze.jailDoor.x,y:a.default.GLOBALS.maze.jailDoor.y-1}},function(t,e){var n=e.i,i=e.j;t.calculateDirection({x:a.default.GLOBALS.PacmanEntity.x,y:a.default.GLOBALS.PacmanEntity.y},{i:n,j:i})},function(t){return t.inJail=!1});e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(){function t(e,n,i,a,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.texture=e,void 0===n&&(n=0,a=e.width),void 0===i&&(i=0,r=e.height),void 0===a&&(a=n,n=0),void 0===r&&(r=i,i=0),this.x=n,this.y=i,this.width=a,this.height=r}return i(t,[{key:"split",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.height/e,a=this.width/n,r=new Array(e),o=0;o<e;o++){r[o]=new Array(n);for(var u=0;u<n;u++)r[o][u]=new t(this.texture,this.x+u*a,this.y+o*i,a,i)}return r}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.default=function(t){return!!i.AssetCache.has(t)&&i.AssetCache.get(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),window.AudioContext=window.AudioContext||window.webkitAudioContext;var i=new AudioContext;e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);Object.defineProperty(e,"M3",{enumerable:!0,get:function(){return u(i).default}});var a=n(13);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return u(a).default}});var r=n(34);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return u(r).default}});var o=n(6);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Vector2D",{enumerable:!0,get:function(){return u(o).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(6),o=(i=r)&&i.__esModule?i:{default:i};var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vertexs=e}return a(t,[{key:"transform",value:function(t){for(var e=0;e<this.vertexs.length;e++)this.vertexs[e].transform(t)}},{key:"translate",value:function(t){for(var e=0;e<this.vertexs.length;e++)this.vertexs[e].x+=t.x,this.vertexs[e].y+=t.y}},{key:"rotate",value:function(t){var e=M3.identity();e=M3.rotate(e,t*(Math.PI/180)),this.transform(e)}},{key:"sacale",value:function(t,e){var n=M3.identity();n=M3.scale(n,t,e),this.transform(n)}},{key:"getNormals",value:function(){for(var t=new Array(this.vectexs.length),e=this.vertexs[this.vertexs.length-1],n=0;n<this.vertexs.length;n++)t[n]=new o.default(this.vertexs[n].x,this.vertexs[n].y,e.x,e.y).normal(),e=this.vertexs[n];return t}},{key:"projection",value:function(t){for(var e=this.vertexs[0].projection(t),n=e,i=1;i<this.vertexs.length;i++){var a=this.vertexs[i].projection(t);a<e?e=a:a>n&&(n=a)}return{min:e,max:n}}},{key:"collides",value:function(t){for(var e=this.getNormals(),n=this.getNormals(),i=0;i<e.length;i++){var a=this.projection(e[i]),r=t.projection(e[i]);if(!(a.max>=r.min&&r.max>=a.min))return!1}for(var o=0;o<n.length;o++){var u=this.projection(n[o]),s=t.projection(n[o]);if(!(u.max>=s.min&&s.max>=u.min))return!1}return!0}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(4)),a=r(n(0));function r(t){return t&&t.__esModule?t:{default:t}}var o=(0,i.default)(5,{x:2,y:0},function(){return{x:a.default.GLOBALS.maze.jailDoor.x,y:a.default.GLOBALS.maze.jailDoor.y+2}},function(t,e){var n=e.i,i=e.j,r={x:a.default.GLOBALS.PacmanEntity.x,y:a.default.GLOBALS.PacmanEntity.y};a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.UP?r.y-=4:a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.RIGHT?r.x+=4:a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.DOWN?r.y+=4:a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.LEFT&&(r.x-=4),t.calculateDirection(r,{i:n,j:i})},function(t){var e=t.v*a.default.deltaTime;e>.1&&(e=.1),t.y-=e,t.yRounded=Math.round(10*t.y)/10,Math.floor(t.y)==a.default.GLOBALS.maze.jailDoor.y-1&&t.yRounded%1<=.2&&(t.y=a.default.GLOBALS.maze.jailDoor.y-1,t.yRounded=a.default.GLOBALS.maze.jailDoor.y-1,t.inJail=!1)});e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(n(4)),a=u(n(0)),r=u(n(8)),o=n(1);function u(t){return t&&t.__esModule?t:{default:t}}var s=(0,i.default)(6,{x:27,y:34},function(){return{x:a.default.GLOBALS.maze.jailDoor.x-2,y:a.default.GLOBALS.maze.jailDoor.y+2}},function(t,e){var n=e.i,i=e.j,u={x:Math.floor(a.default.GLOBALS.PacmanEntity.x),y:Math.floor(a.default.GLOBALS.PacmanEntity.y)},s=void 0;a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.UP?s=new o.Vector2D(u.x,u.y-2,Math.floor(r.default.x),Math.floor(r.default.y)):a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.RIGHT?s=new o.Vector2D(u.x+2,u.y,Math.floor(r.default.x),Math.floor(r.default.y)):a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.DOWN?s=new o.Vector2D(u.x,u.y+2,Math.floor(r.default.x),Math.floor(r.default.y)):a.default.GLOBALS.PacmanEntity.direction==a.default.GLOBALS.LEFT&&(s=new o.Vector2D(u.x-2,u.y,Math.floor(r.default.x),Math.floor(r.default.y))),t.calculateDirection({x:Math.floor(t.x)+2*s.x,y:Math.floor(t.y)+2*s.y},{i:n,j:i})},function(t){if(a.default.GLOBALS.maze.balls_total-a.default.GLOBALS.maze.balls_count>=30){var e=t.v*a.default.deltaTime;e>.1&&(e=.1),t.x!=a.default.GLOBALS.maze.jailDoor.x?(t.x+=e,t.xRounded=Math.round(10*t.x)/10,t.x>a.default.GLOBALS.maze.jailDoor.x-.1&&t.x<a.default.GLOBALS.maze.jailDoor.x+.1&&(t.x=a.default.GLOBALS.maze.jailDoor.x,t.xRounded=a.default.GLOBALS.maze.jailDoor.x)):(t.y-=e,t.yRounded=Math.round(10*t.y)/10,Math.floor(t.y)==a.default.GLOBALS.maze.jailDoor.y-1&&t.yRounded%1<=.2&&(t.y=a.default.GLOBALS.maze.jailDoor.y-1,t.yRounded=a.default.GLOBALS.maze.jailDoor.y-1,t.inJail=!1))}});e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(4)),a=o(n(0)),r=n(1);function o(t){return t&&t.__esModule?t:{default:t}}var u=(0,i.default)(7,{x:0,y:34},function(){return{x:a.default.GLOBALS.maze.jailDoor.x+2,y:a.default.GLOBALS.maze.jailDoor.y+2}},function(t,e){var n=e.i,i=e.j;new r.Vector2D(Math.floor(t.x),Math.floor(t.y),Math.floor(a.default.GLOBALS.PacmanEntity.x),Math.floor(a.default.GLOBALS.PacmanEntity.y)).magnitude()<8?t.calculateDirection(t.patrolPoint,{i:n,j:i}):t.calculateDirection({x:a.default.GLOBALS.PacmanEntity.x,y:a.default.GLOBALS.PacmanEntity.y},{i:n,j:i})},function(t){if(a.default.GLOBALS.maze.balls_total-a.default.GLOBALS.maze.balls_count>=a.default.GLOBALS.maze.balls_total/3){var e=t.v*a.default.deltaTime;e>.1&&(e=.1),t.x!=a.default.GLOBALS.maze.jailDoor.x?(t.x-=e,t.xRounded=Math.round(10*t.x)/10,t.x>a.default.GLOBALS.maze.jailDoor.x-.1&&t.x<a.default.GLOBALS.maze.jailDoor.x+.1&&(t.x=a.default.GLOBALS.maze.jailDoor.x,t.xRounded=a.default.GLOBALS.maze.jailDoor.x)):(t.y-=e,t.yRounded=Math.round(10*t.y)/10,Math.floor(t.y)==a.default.GLOBALS.maze.jailDoor.y-1&&t.yRounded%1<=.2&&(t.y=a.default.GLOBALS.maze.jailDoor.y-1,t.yRounded=a.default.GLOBALS.maze.jailDoor.y-1,t.inJail=!1))}});e.default=u},function(t,e,n){"use strict";var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i},o=n(1);r.default.fitCanvasToConatiner(),r.default.addInputManagers(o.Keyboard),r.default.start()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(19);Object.defineProperty(e,"Game",{enumerable:!0,get:function(){return r(i).default}});var a=n(27);function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Gear",{enumerable:!0,get:function(){return r(a).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(5),u=n(26),s=(i=u)&&i.__esModule?i:{default:i};var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,f={container_id:"game-container",width:960,height:540},c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=a({},f,e),r=i.container_id,o=i.width,u=i.height;this.width=o,this.height=u,this.container=document.getElementById(r),this.setCanvas(r),this.canvas=document.getElementById(r+"-canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.outline="none",this.canvas.setAttribute("tabindex","1"),this.input=new s.default(this.canvas),this.context=this.canvas.getContext("2d"),this.fullScreenActive=!1,this.running=!1,this.delta=0,this.then=0,this.loop=this.loop.bind(this),this.coreGear=n}return r(t,[{key:"setCanvas",value:function(t){this.container.requestFullScreen=this.container.requestFullscreen||this.container.msRequestFullscreen||this.container.mozRequestFullScreen||this.container.webkitRequestFullscreen,document.exitFullScreen=document.exitFullscreen||document.msExitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen,this.container.style.background="#000000",this.container.style.position="relative",this.container.style.display="flex",this.container.style.alignItems="center",this.container.style.justifyContent="center",this.container.style.overflow="hidden",this.container.style.width="100%",this.container.style.height="100%",this.container.innerHTML='<canvas id="'+t+'-canvas"></canvas>'}},{key:"fitCanvasToConatiner",value:function(){var t=this;setTimeout(function(){var e=t.canvas.clientWidth/t.canvas.clientHeight;t.container.clientWidth/t.container.clientHeight>e?(t.canvas.style.width="auto",t.canvas.style.height="100%"):(t.canvas.style.width="100%",t.canvas.style.height="auto")},0)}},{key:"resizeCanvas",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:960,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:540;(arguments.length>3&&void 0!==arguments[3]&&arguments[3]||this.width!=e||this.height!=n)&&(this.width=e,this.height=n,this.canvas.width=e,this.canvas.height=n)}},{key:"toggleFullScreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.fullScreenActive;this.fullScreenActive=t,t?this.container.requestFullScreen():document.exitFullScreen(),setTimeout(this.fitCanvasToConatiner.bind(this),300)}},{key:"loop",value:function(){var t=Date.now();this.delta=t-this.then,this.then=t,this.running&&(this.input.update(),this.coreGear.$update()),this.coreGear.$render(),l(this.loop)}},{key:"start",value:function(){var t=this;this.coreGear.$load(),o.Loader.$load(function(){t.coreGear.init(),t.running=!0,t.then=Date.now(),l(t.loop)}.bind(this))}},{key:"pause",value:function(){this.running=!1}},{key:"continue",value:function(){this.then=Date.now(),this.running=!0}},{key:"addInputManagers",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.input.addManagers([].concat(e))}},{key:"deltaTime",get:function(){return this.delta/1e3}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadTextureFromFile=e.loadTextureFromUrl=void 0;var i=o(n(21)),a=n(2),r=o(n(10));function o(t){return t&&t.__esModule?t:{default:t}}e.loadTextureFromUrl=function(t){return new Promise(function(e,n){var o=(0,r.default)(t);if(o)e(o);else{var u=new Image;u.onload=function(){var n=new i.default(u);a.AssetCache.set(t,n),e(n)},new URL(t).origin!==window.location.origin&&(u.crossOrigin=""),u.src=t}})},e.loadTextureFromFile=function(t){return new Promise(function(e,n){var o=(0,r.default)(t.name);if(o)e(o);else{var u=new FileReader,s=new Image;u.onloadend=function(){s.src=u.result},s.onload=function(){var n=new i.default(s);a.AssetCache.set(t.name,n),e(n)},u.readAsDataURL(t)}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(9),o=(i=r)&&i.__esModule?i:{default:i};var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image=e,this.width=e.width,this.height=e.height}return a(t,[{key:"split",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.height/t,i=this.width/e,a=new Array(t),r=0;r<t;r++){a[r]=new Array(e);for(var u=0;u<e;u++)a[r][u]=new o.default(this,u*i,r*n,i,n)}return a}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subscriptions=new Map}return i(t,[{key:"subscribe",value:function(t,e,n){this.subscriptions.has(e)||this.subscriptions.set(e,new Map),this.subscriptions.get(e).set(t,n)}},{key:"unsubscribe",value:function(t,e){if(this.subscriptions.has(e)){var n=this.subscriptions.get(e);n.has(t)&&(n.delete(t),0==n.size&&this.subscriptions.delete(e))}}},{key:"emit",value:function(t){if(this.subscriptions.has(t)){for(var e=this.subscriptions.get(t),n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var r=!0,o=!1,u=void 0;try{for(var s,l=e.values()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){s.value.apply(void 0,i)}}catch(t){o=!0,u=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw u}}}}}]),t}());e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadSoundFromFile=e.loadSoundFromUrl=void 0;var i=u(n(24)),a=u(n(11)),r=u(n(10)),o=n(2);function u(t){return t&&t.__esModule?t:{default:t}}e.loadSoundFromUrl=function(t){return new Promise(function(e,n){var u=(0,r.default)(t);if(u)e(u);else{var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(){return a.default.decodeAudioData(s.response,function(n){var a=new i.default(n);return o.AssetCache.set(t,a),e(a)},function(t){return n(t)})},s.send()}})},e.loadSoundFromFile=function(t){return new Promise(function(e,n){var u=(0,r.default)(t.name);if(u)e(u);else{var s=new FileReader;s.onloadend=function(){s.result,a.default.decodeAudioData(request.response,function(n){var a=new i.default(n);return o.AssetCache.set(t.name,a),e(a)},function(t){return n(t)})},s.readAsArrayBuffer(t)}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(11),u=(i=o)&&i.__esModule?i:{default:i};var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.audioBuffer=e,this.instances={},this.idCounter=0}return r(t,[{key:"play",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a({time:0,volume:1,loop:!1},e),i=n.time,r=n.volume,o=n.loop,s=this.idCounter++,l=u.default.createBufferSource();l.addEventListener("ended",function(e){return delete t.instances[s]}),l.buffer=this.audioBuffer,l.loop=o;var f=u.default.createGain();return l.connect(f),f.gain.setTargetAtTime(r,u.default.currentTime,.015),f.connect(u.default.destination),l.start(i),this.instances[s]={source:l,gainNode:f},s}},{key:"isSet",value:function(t){return Boolean(this.instances[t])}},{key:"stop",value:function(t){if(!this.isSet(t))return!1;this.instances[t].source.stop(0),this.instances[t].source.noteOff(0),delete this.instances[t]}},{key:"setvolume",value:function(t,e){if(!this.isSet(t))return!1;this.instances[t].gainNode.gain.setTargetAtTime(e,u.default.currentTime,.015)}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.unLoadContent=[],this.loadContentReferences=[],this.addLoaders(e)}return a(t,[{key:"addLoaders",value:function(t){var e=Object.entries(t),n=!0,a=!1,r=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var s=o.value,l=i(s,2),f=l[0],c=l[1];this[f]=c}}catch(t){a=!0,r=t}finally{try{!n&&u.return&&u.return()}finally{if(a)throw r}}}},{key:"$addLoadContent",value:function(t,e){this.unLoadContent=[].concat(r(this.unLoadContent),r(Object.values(e))),this.loadContentReferences=[].concat(r(this.loadContentReferences),r(Object.keys(e).map(function(e){return[t,e]})))}},{key:"$load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return 0};Promise.all(this.unLoadContent).then(function(n){for(var i=0;i<n.length;i++){t.loadContentReferences[i][0][t.loadContentReferences[i][1]]=n[i]}t.unLoadContent=[],t.loadContentReferences=[],e()})}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this._updateFunctions=[]}return a(t,[{key:"update",value:function(){for(var t=0;t<this._updateFunctions.length;t++)this._updateFunctions[t]()}},{key:"addManagers",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=new Array(t.length),n=0;n<t.length;n++){var a=Object.entries(t[n].methods),r=!0,o=!1,u=void 0;try{for(var s,l=a[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var f=s.value,c=i(f,2),h=c[0],d=c[1];this[h]=d}}catch(t){o=!0,u=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw u}}t[n].init.bind(this)(),e[n]=t[n].update.bind(this)}this._updateFunctions=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this._updateFunctions),e)}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(5),s=n(2),l=n(28),f=(i=l)&&i.__esModule?i:{default:i};var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=r({load:function(){return{}},init:function(){},update:function(){},render:function(){},gears:[],methods:{}},e),i=n.load,o=n.init,u=n.update,s=n.render,l=n.gears,c=n.methods;this.init=o,this.gearStack=new f.default(this,l),this.pause=!1,this.active=!0,this.update=u,this.render=s,this.load=i;var h=Object.entries(c),d=!0,y=!1,v=void 0;try{for(var m,p=h[Symbol.iterator]();!(d=(m=p.next()).done);d=!0){var L=m.value,b=a(L,2),x=b[0],O=b[1];this[x]=O}}catch(t){y=!0,v=t}finally{try{!d&&p.return&&p.return()}finally{if(y)throw v}}}return o(t,[{key:"$load",value:function(){u.Loader.$addLoadContent(this,this.load()),this.gearStack.load()}},{key:"$update",value:function(){!this.pause&&this.active&&this.update.apply(this,arguments)}},{key:"$render",value:function(){this.active&&this.render.apply(this,arguments)}},{key:"$emit",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];s.EventEmiter.emit.apply(s.EventEmiter,[t].concat(n))}},{key:"$subscribe",value:function(t,e){s.EventEmiter.subscribe(this,t,e.bind(this))}},{key:"$unsubscribe",value:function(t){s.EventEmiter.unsubscribe(this,t)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,a=!1,r=void 0;try{for(var o,u=t[Symbol.iterator]();!(i=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){a=!0,r=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a=Object.entries(n);this.stack=new Array(a.length);var r=0,o=!0,u=!1,s=void 0;try{for(var l,f=a[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var c=l.value,h=i(c,2),d=h[0],y=h[1];e[d]=y,this.stack[r]=y,r++}}catch(t){u=!0,s=t}finally{try{!o&&f.return&&f.return()}finally{if(u)throw s}}this.pause=!1,this.active=!0}return a(t,[{key:"init",value:function(){for(var t=0;t<this.stack.length;t++)this.stack[t].init()}},{key:"update",value:function(){if(!this.pause&&this.active)for(var t=0;t<this.stack.length;t++){var e;(e=this.stack[t]).$update.apply(e,arguments)}}},{key:"render",value:function(){if(this.active)for(var t=0;t<this.stack.length;t++){var e;(e=this.stack[t]).$render.apply(e,arguments)}}},{key:"load",value:function(){for(var t=0;t<this.stack.length;t++)this.stack[t].$load()}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9);Object.defineProperty(e,"TextureRegion",{enumerable:!0,get:function(){return u(i).default}});var a=n(30);Object.defineProperty(e,"SpriteBatch",{enumerable:!0,get:function(){return u(a).default}});var r=n(32);Object.defineProperty(e,"Animation",{enumerable:!0,get:function(){return u(r).default}});var o=n(33);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Camera",{enumerable:!0,get:function(){return u(o).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=o(n(31)),r=o(n(3));function o(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e,this.buffer=new a.default(e.canvas.width,e.canvas.height),this.drawing=!1,this.projectionMatrix=r.default.identity()}return i(t,[{key:"begin",value:function(){if(this.drawing)throw"This batch is currenly drawing";this.drawing=!0,this.buffer.clear()}},{key:"drawTexture",value:function(t,e,n,i,a,o,s,l,f){var c,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,y=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0;if(!this.drawing)throw"This batch is not begin to draw";this.buffer.context.save(),void 0===o&&(o=e,e=0),void 0===s&&(s=n,n=0),void 0===i&&(i=t.width),void 0===a&&(a=t.height),void 0===l&&(l=i,i=t.width),void 0===f&&(f=a,a=t.height),"TextureRegion"==t.constructor.name&&(e+=t.x,n+=t.y,t=t.texture);var v=r.default.identity();v=r.default.translate(v,o-l*d,s-f*y),v=r.default.translate(v,l*d,f*y),v=r.default.rotate(v,h*(Math.PI/180)),v=r.default.scale(v,l/i,f/a),v=r.default.translate(v,l*-d,f*-y),(c=this.buffer.context).setTransform.apply(c,u(r.default.toCanvas2dMatrix(r.default.multiply(this.projectionMatrix,v)))),this.buffer.context.drawImage(t.image,e,n,i,a,0,0,i,a),this.buffer.context.restore()}},{key:"drawText",value:function(t,e,n,i,a,o){var s;if(!this.drawing)throw"This batch is not begin to draw";this.buffer.context.save(),(s=this.buffer.context).setTransform.apply(s,u(r.default.toCanvas2dMatrix(this.projectionMatrix))),this.buffer.context.font=n,this.buffer.context.fillStyle=e,this.buffer.context.textAlign=i,this.buffer.context.fillText(t,a,o),this.buffer.context.restore()}},{key:"end",value:function(){if(!this.drawing)throw"This batch is not begin to draw";this.drawing=!1,this.context.drawImage(this.buffer.canvas,0,0)}},{key:"setProjection",value:function(t){this.projectionMatrix=t}},{key:"resetProjection",value:function(){this.projectionMatrix=r.default.identity()}}]),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=n,this.context=this.canvas.getContext("2d")}return i(t,[{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var a=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.frameTime=e,this.frames=n,this.playMode=i,this.animationEnded=!1,this._frame=this.playMode>1?this.frames.length-1:0,this._acumulateTime=0}return i(t,[{key:"getFrame",value:function(t){if(this.animationEnded)return this.frames[this._frame];var e=Math.floor((this._acumulateTime+t)/this.frameTime);return this._acumulateTime=this._acumulateTime+t-e*this.frameTime,this._nextFrame(e),this.frames[this._frame]}},{key:"_nextFrame",value:function(t){this["_nextFrame"+this.playMode](t)}},{key:"_nextFrame0",value:function(t){this._frame=Math.min(this._frame+=t,this.frames.length-1),this._frame==this.frames.length-1&&(this.animationEnded=!0)}},{key:"_nextFrame1",value:function(t){this._frame=(this._frame+t)%this.frames.length}},{key:"_nextFrame2",value:function(t){this._frame=Math.max(this._frame-=t,0),0==this._frame&&(this.animationEnded=!0)}},{key:"_nextFrame3",value:function(t){this._frame=(this._frame-t).mod(this.frames.length)}}]),t}();a.PLAY_MODES={NORMAL:0,LOOP:1,REVERSE:2,LOOP_REVERSE:3},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),o=(i=r)&&i.__esModule?i:{default:i};var u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.width=e,this.height=n,this.zoom=1,this.rotation=0,this.offsetX=0,this.offsetY=0,this.cameraMatrix=o.default.identity()}return a(t,[{key:"translate",value:function(t,e){this.x+=t,this.y+=e}},{key:"setPosition",value:function(t,e){this.x=t,this.y=e}},{key:"rotate",value:function(t){this.rotation+=t}},{key:"setRotation",value:function(t){this.rotation=t}},{key:"setZoom",value:function(t){this.zoom=t}},{key:"setOffset",value:function(t,e){this.offsetX=t,this.offsetY=e}},{key:"update",value:function(){var t=o.default.identity();t=o.default.translate(t,-(this.x-this.offsetX*this.width),-(this.y-this.offsetY*this.height)),t=o.default.translate(t,this.width*this.offsetX,this.height*this.offsetY),t=o.default.rotate(t,this.rotation*(Math.PI/180)),t=o.default.scale(t,this.zoom,this.zoom),t=o.default.translate(t,this.width*-this.offsetX,this.height*-this.offsetY),this.cameraMatrix=t}}]),t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=o(n(13)),r=o(n(6));function o(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,[new r.default(t,n),new r.default(t,n+a),new r.default(t+i,n+a),new r.default(t+i,n)]));return o.width=i,o.height=a,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,[{key:"getNormals",value:function(){return[new r.default(this.vertexs[0].x,this.vertexs[0].y,this.vertexs[1].x,this.vertexs[1].y),new r.default(this.vertexs[1].x,this.vertexs[1].y,this.vertexs[2].x,this.vertexs[2].y)]}}]),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(36);Object.defineProperty(e,"KeyboardInputManager",{enumerable:!0,get:function(){return r(i).default}});var a=n(38);function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"MouseInputManager",{enumerable:!0,get:function(){return r(a).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(37);var r={KEYS:((i=a)&&i.__esModule?i:{default:i}).default,init:function(){var t=this;this._keys=new Array(256);for(var e=0;e<256;)this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1],this._keys[e++]=[!1,!1];this.canvas.addEventListener("keydown",function(e){return t._keySet(e.keyCode,!0)}),this.canvas.addEventListener("keyup",function(e){return t._keySet(e.keyCode,!1)})},update:function(){for(var t=0;t<256;)this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1],this._keys[t][0]=this._keys[t++][1]},methods:{_keySet:function(t,e){this._keys[t][1]=e},isKeyJustPressed:function(t){return!this._keys[t][0]&&this._keys[t][1]},isKeyDown:function(t){return this._keys[t][0]&&this._keys[t][1]}}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={DELETE:8,ENTER:13,SHIFT:16,CONTROL:17,ATL:18,SPACEBAR:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,NUMBER_0:48,NUMBER_1:49,NUMBER_2:50,NUMBER_3:51,NUMBER_4:52,NUMBER_5:53,NUMBER_6:54,NUMBER_7:55,NUMBER_8:56,NUMBER_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(12),r=n(39);var o={BUTTONS:((i=r)&&i.__esModule?i:{default:i}).default,init:function(){var t=this;this._mouseButtons=[[!1,!1],[!1,!1],[!1,!1]],this.mousePosition=new a.Vector2D(0,0),this.canvas.addEventListener("mousedown",function(e){return t._clickSet(e.button,!0)}),this.canvas.addEventListener("mouseup",function(e){return t._clickSet(e.button,!1)}),this.canvas.addEventListener("mousemove",function(e){return t._mouseMove(e.pageX,e.pageY)})},update:function(){this._mouseButtons[0][0]=this._mouseButtons[0][1],this._mouseButtons[1][0]=this._mouseButtons[1][1],this._mouseButtons[2][0]=this._mouseButtons[2][1]},methods:{_mouseMove:function(t,e){this.mousePosition.setPosition(Math.round((t-this.canvas.offsetLeft)*(this.canvas.width/this.canvas.offsetWidth)),Math.round((e-this.canvas.offsetTop)*(this.canvas.height/this.canvas.offsetHeight)))},_clickSet:function(t,e){this._mouseButtons[t][1]=e},isJustClicked:function(t){return!this._mouseButtons[t][0]&&this._mouseButtons[t][1]},isClicked:function(t){return this._mouseButtons[t][0]&&this._mouseButtons[t][1]}}};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={LEFT_CLICK:0,CENTER_CLICK:1,RIGHT_CLICK:2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n(7);var r=new((i=a)&&i.__esModule?i:{default:i}).default([[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,2,2,2,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,2,2,2,2,2,0],[0,2,0,0,0,0,2,0,0,0,0,0,2,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0],[0,3,0,1,1,0,2,0,1,1,1,0,2,0,0,2,0,1,1,1,0,2,0,1,1,0,3,0],[0,2,0,0,0,0,2,0,0,0,0,0,2,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0],[0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0],[0,2,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,2,0,0,2,0,0,0,0,2,0],[0,2,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,2,0,0,2,0,0,0,0,2,0],[0,2,2,2,2,2,2,0,0,2,2,2,2,0,0,2,2,2,2,0,0,2,2,2,2,2,2,0],[0,0,0,0,0,0,2,0,0,0,0,0,1,0,0,1,0,0,0,0,0,2,0,0,0,0,0,0],[1,1,1,1,1,0,2,0,0,0,0,0,1,0,0,1,0,0,0,0,0,2,0,1,1,1,1,1],[1,1,1,1,1,0,2,0,0,1,1,1,1,1,1,1,1,1,1,0,0,2,0,1,1,1,1,1],[1,1,1,1,1,0,2,0,0,1,0,0,0,1,1,0,0,0,1,0,0,2,0,1,1,1,1,1],[0,0,0,0,0,0,2,0,0,1,0,1,1,1,1,1,1,0,1,0,0,2,0,0,0,0,0,0],[1,1,1,1,1,1,2,1,1,1,0,1,1,1,1,1,1,0,1,1,1,2,1,1,1,1,1,1],[0,0,0,0,0,0,2,0,0,1,0,1,1,1,1,1,1,0,1,0,0,2,0,0,0,0,0,0],[1,1,1,1,1,0,2,0,0,1,0,0,0,0,0,0,0,0,1,0,0,2,0,1,1,1,1,1],[1,1,1,1,1,0,2,0,0,1,1,1,1,1,1,1,1,1,1,0,0,2,0,1,1,1,1,1],[1,1,1,1,1,0,2,0,0,1,0,0,0,0,0,0,0,0,1,0,0,2,0,1,1,1,1,1],[0,0,0,0,0,0,2,0,0,1,0,0,0,0,0,0,0,0,1,0,0,2,0,0,0,0,0,0],[0,2,2,2,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,2,2,2,2,2,0],[0,2,0,0,0,0,2,0,0,0,0,0,2,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0],[0,2,0,0,0,0,2,0,0,0,0,0,2,0,0,2,0,0,0,0,0,2,0,0,0,0,2,0],[0,3,2,2,0,0,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,0,0,2,2,3,0],[0,0,0,2,0,0,2,0,0,2,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,0],[0,0,0,2,0,0,2,0,0,2,0,0,0,0,0,0,0,0,2,0,0,2,0,0,2,0,0,0],[0,2,2,2,2,2,2,0,0,2,2,2,2,0,0,2,2,2,2,0,0,2,2,2,2,2,2,0],[0,2,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,2,0],[0,2,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,2,0],[0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[[[1,1],"auto"],[[1,6],"auto"],[[1,12],"auto"],[[1,15],"auto"],[[1,21],"auto"],[[1,26],"auto"],[[5,1],"auto"],[[5,6],"auto"],[[5,9],"auto"],[[5,12],"auto"],[[5,15],"auto"],[[5,18],"auto"],[[5,21],"auto"],[[5,26],"auto"],[[8,1],"auto"],[[8,6],"auto"],[[8,9],"auto"],[[8,12],"auto"],[[8,15],"auto"],[[8,18],"auto"],[[8,21],"auto"],[[8,26],"auto"],[[11,9],"auto"],[[11,12],[1,3]],[[11,15],[1,3]],[[11,18],"auto"],[[14,6],"auto"],[[14,9],"auto"],[[14,18],"auto"],[[14,21],"auto"],[[17,9],"auto"],[[17,18],"auto"],[[20,1],"auto"],[[20,6],"auto"],[[20,9],"auto"],[[20,12],"auto"],[[20,15],"auto"],[[20,18],"auto"],[[20,21],"auto"],[[20,26],"auto"],[[23,1],"auto"],[[23,3],"auto"],[[23,6],"auto"],[[23,9],"auto"],[[23,12],[1,3]],[[23,15],[1,3]],[[23,18],"auto"],[[23,21],"auto"],[[23,24],"auto"],[[23,26],"auto"],[[26,1],"auto"],[[26,3],"auto"],[[26,6],"auto"],[[26,9],"auto"],[[26,12],"auto"],[[26,15],"auto"],[[26,18],"auto"],[[26,21],"auto"],[[26,24],"auto"],[[26,26],"auto"],[[29,1],"auto"],[[29,12],"auto"],[[29,15],"auto"],[[29,26],"auto"]],{x:13.5,y:26},{x:13.5,y:15});e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=f(n(0)),r=f(n(7)),o=f(n(8)),u=f(n(14)),s=f(n(15)),l=f(n(16));function f(t){return t&&t.__esModule?t:{default:t}}var c=new i.Gear({init:function(){this.frame=a.default.GLOBALS.tileset[1],this.x=a.default.GLOBALS.maze.pacmanSpawn.x,this.y=a.default.GLOBALS.maze.pacmanSpawn.y,this.xRounded=a.default.GLOBALS.maze.pacmanSpawn.x,this.yRounded=a.default.GLOBALS.maze.pacmanSpawn.y,this.v=5,this.direction=a.default.GLOBALS.LEFT,this.nextDirection=a.default.GLOBALS.LEFT},update:function(){this.x,this.y;a.default.input.isKeyDown(i.Keyboard.KEYS.UP_ARROW)?this.nextDirection=a.default.GLOBALS.UP:a.default.input.isKeyDown(i.Keyboard.KEYS.DOWN_ARROW)?this.nextDirection=a.default.GLOBALS.DOWN:a.default.input.isKeyDown(i.Keyboard.KEYS.LEFT_ARROW)?this.nextDirection=a.default.GLOBALS.LEFT:a.default.input.isKeyDown(i.Keyboard.KEYS.RIGHT_ARROW)&&(this.nextDirection=a.default.GLOBALS.RIGHT),this.updatePosition(),this.checkEntityColision()},render:function(t){t.drawTexture(this.frame,8*this.xRounded,8*this.yRounded)},methods:{updatePosition:function(){(this.direction+this.nextDirection)%2==0&&(this.direction=this.nextDirection);var t=this.v*a.default.deltaTime;t>.1&&(t=.1),this.direction==a.default.GLOBALS.UP?this.y-=t:this.direction==a.default.GLOBALS.RIGHT?this.x+=t:this.direction==a.default.GLOBALS.DOWN?this.y+=t:this.direction==a.default.GLOBALS.LEFT&&(this.x-=t),this.fixPosition(),this.xRounded=Math.round(10*this.x)/10,this.yRounded=Math.round(10*this.y)/10,this.changeDirection()},changeDirection:function(){var t=this.getTile(),e=t.i,n=t.j;3==a.default.GLOBALS.maze.consumeBall(e,n)&&this.$emit("enterPanic"),this.direction!=this.nextDirection&&(this.nextDirection==a.default.GLOBALS.UP&&a.default.GLOBALS.maze.layout[e-1][n]>0&&this.xRounded%1<=.3?(this.x=Math.floor(this.x),this.direction=this.nextDirection):this.nextDirection==a.default.GLOBALS.RIGHT&&a.default.GLOBALS.maze.layout[e][n+1]>0&&this.yRounded%1<=.3?(this.y=Math.floor(this.y),this.direction=this.nextDirection):this.nextDirection==a.default.GLOBALS.DOWN&&a.default.GLOBALS.maze.layout[e+1][n]>0&&this.xRounded%1<=.3?(this.x=Math.floor(this.x),this.direction=this.nextDirection):this.nextDirection==a.default.GLOBALS.LEFT&&a.default.GLOBALS.maze.layout[e][n-1]>0&&this.yRounded%1<=.3&&(this.y=Math.floor(this.y),this.direction=this.nextDirection))},fixPosition:function(){var t=this.getTile(),e=t.i,n=t.j;this.direction==a.default.GLOBALS.UP&&a.default.GLOBALS.maze.layout[e][n]==r.default.BLOCKS.WALL?this.y=Math.ceil(this.y):this.direction==a.default.GLOBALS.RIGHT&&a.default.GLOBALS.maze.layout[e][n+1]==r.default.BLOCKS.WALL?this.x=Math.floor(this.x):this.direction==a.default.GLOBALS.DOWN&&a.default.GLOBALS.maze.layout[e+1][n]==r.default.BLOCKS.WALL?this.y=Math.floor(this.y):this.direction==a.default.GLOBALS.LEFT&&a.default.GLOBALS.maze.layout[e][n]==r.default.BLOCKS.WALL&&(this.x=Math.ceil(this.x)),this.x<-1&&(this.x=28),this.x>28&&(this.x=-1)},getTile:function(){return{i:Math.floor(this.y-3),j:Math.floor(this.x)}},collides:function(t){return this.x+1>=t.x&&t.x+1>=this.x&&this.y+1>=t.y&&t.y+1>=this.y},checkEntityColision:function(){this.collides(o.default)&&o.default.onPacmanCollision(),this.collides(u.default)&&u.default.onPacmanCollision(),this.collides(s.default)&&s.default.onPacmanCollision(),this.collides(l.default)&&l.default.onPacmanCollision()},softReset:function(){this.x=a.default.GLOBALS.maze.pacmanSpawn.x,this.y=a.default.GLOBALS.maze.pacmanSpawn.y,this.xRounded=a.default.GLOBALS.maze.pacmanSpawn.x,this.yRounded=a.default.GLOBALS.maze.pacmanSpawn.y,this.direction=a.default.GLOBALS.LEFT,this.nextDirection=a.default.GLOBALS.LEFT}}});e.default=c}]);